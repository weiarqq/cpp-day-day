## C++  Learn



#### 数据类型

|数据类型|类型|字节数|取值范围|
| ---- | ---- |---- | ---- |
|  short   | 短整型 | 2 |-2^15~2^15-1|
| unsigned short     | 无符号短整型   | 2       | 0～2^16-1                               |
| int                | 整型           | 4       | -2^31~2^31-1                            |
| unsigned int       |无符号整型|4|0~2^32-1|
| long               | 长整型         | 4       | 取决于平台（通常为 -2^31 到 2^31-1 等） |
| unsigned long      | 无符号长整型   | 4       | 取决于平台（通常为 0 到 2^32-1 等）     |
| long long          | 长长整型       | 8       | -2^63~2^63-1                            |
| unsigned long long | 无符号长长整型 | 8       | 0~2^64-1                                |
| float              | 单精度浮点型   | 4  8E23M | 约 ±3.4×10^38（精度约 6-7 位小数）      |
| double             |双精度浮点型|8  11E52M|约 ±1.7×10^308（精度约 15-17 位小数）|
|long double|长双精度浮点型|8/10/16|取决于平台（精度通常高于`double`）|
|char|字符型|1|-128 ~ 127 或 0 ~ 255（取决于实现）|
|signed char|有符号字符型|1|-128 ~ 127|
|unsigned char|无符号字符型|1|0~255|
|bool|1布尔型|1|`true`（真）或 `false`（假）|
|wchar_t|宽字符类型|||
|`char8_t`|UTF-8 字符类型|||
|`char16_t`|UTF-16 字符类型|||
|char32_t|UTF-32 字符类型|||

`Int` 占4字节，每个字节有8位，则可以表示为32位，符号位(正/负)占一位，数字占31位，即可以表示31的二进制数，即2^31

`float`: 

在 C/C++ 中，`float`类型占用 4 字节（32 位），其取值范围和精度是通过**IEEE 754 单精度浮点数标准**定义的，内部结构分为三部分：

| 组成部分    | 位数  | 作用                                               |
| ----------- | ----- | -------------------------------------------------- |
| 符号位（S） | 1 位  | 表示正负（0 为正，1 为负）                         |
| 指数位（E） | 8 位  | 决定数值的数量级（偏移量为 127）                   |
| 尾数位（M） | 23 位 | 表示数值的精度（隐含一位整数 1，实际精度为 24 位） |

取值范围的计算方式：

float类型，会把数字按照指数形式表示，比如2123.1231 = 1.02345... × 2¹¹（二进制里的 "科学计数法"）

1. **指数位（E）的范围**：8 位无符号整数的取值范围是 0~255，但标准规定：
   - E=0 且 M=0 时，表示 0
   - E=255 且 M=0 时，表示无穷大（±∞）
   - E=255 且 M≠0 时，表示 NaN（非数值）
   - 有效指数范围为 1~254，对应的实际指数为 **E-127**（范围：-126~+127） 1~254 偏移127 -> ~126 ~+127
2. **尾数位（M）的贡献**：尾数位表示小数部分，加上隐含的整数位 1，实际值为 `1.M`（二进制），范围是 `[1.0, 2.0)`。
3. **最终范围**：结合符号位，`float`的典型取值范围为：
   - 最小值（接近 0 的正数）：约 `1.175×10^-38`
   - 最大值：约 `3.402×10^38`
   - 可表示正负值，因此完整范围是 `±1.175×10^-38 ~ ±3.402×10^38`

> 假设浮点数：2123.1231
>
> 按照科学计数法：2123.1231 = 1.02345... × 2¹¹（二进制里的 "科学计数法"）
>
> 然后拆成三部分记下来（总共 32 个格子）：
>
> - 第 1 个格子：记正负（0 代表正，1 代表负）
> - 接下来 8 个格子：记指数（这里是 11，但要加 127 变成 138，因为指数可以是负数）
> - 最后 23 个格子：记小数点后的部分（.02345... 的二进制）
>
> 这样 32 个格子就把 2123.1231"挤" 进去了。
>
> 因为只有 23 位记小数，所以不能完全精确，就像用有限的格子记圆周率，总会有点误差。这就是为什么 float 能表示很大的范围，但精度有限。

#### 关键字

以下是C++关键字的汇总表格：

| 关键字             | 类别                  | 作用                                               |
| ------------------ | --------------------- | -------------------------------------------------- |
| `bool`             | 基本数据类型          | 表示布尔类型，取值为`true`或`false`                |
| `char`             | 基本数据类型          | 表示字符类型，通常占1字节                          |
| `int`              | 基本数据类型          | 表示整数类型，通常占4字节                          |
| `float`            | 基本数据类型          | 表示单精度浮点类型，占4字节                        |
| `double`           | 基本数据类型          | 表示双精度浮点类型，占8字节                        |
| `void`             | 基本数据类型          | 表示无类型，用于函数返回值或空指针                 |
| `wchar_t`          | 基本数据类型          | 表示宽字符类型，用于存储多字节字符                 |
| `char8_t`          | 基本数据类型（C++20） | 表示UTF-8字符类型                                  |
| `char16_t`         | 基本数据类型（C++11） | 表示UTF-16字符类型                                 |
| `char32_t`         | 基本数据类型（C++11） | 表示UTF-32字符类型                                 |
| `signed`           | 类型修饰符            | 修饰整数类型为有符号类型                           |
| `unsigned`         | 类型修饰符            | 修饰整数类型为无符号类型                           |
| `short`            | 类型修饰符            | 修饰整数类型为短整数                               |
| `long`             | 类型修饰符            | 修饰整数或浮点类型为长类型                         |
| `long long`        | 类型修饰符（C++11）   | 修饰整数类型为更长的整数                           |
| `auto`             | 存储与类型            | 自动推断变量类型（C++11后增强）                    |
| `register`         | 存储类别              | 建议编译器将变量存储在寄存器中                     |
| `static`           | 存储类别              | 声明静态变量或函数，延长生命周期或限制作用域       |
| `extern`           | 存储类别              | 声明外部变量或函数，提示编译器在其他文件中寻找定义 |
| `mutable`          | 存储类别              | 允许在`const`成员函数中修改类的成员变量            |
| `thread_local`     | 存储类别（C++11）     | 声明线程局部变量，每个线程有独立副本               |
| `if`               | 控制语句              | 条件判断语句                                       |
| `else`             | 控制语句              | 与`if`配合使用的分支语句                           |
| `switch`           | 控制语句              | 多分支选择语句                                     |
| `case`             | 控制语句              | `switch`中的分支标签                               |
| `default`          | 控制语句              | `switch`中的默认分支                               |
| `for`              | 控制语句              | 循环语句                                           |
| `while`            | 控制语句              | 循环语句                                           |
| `do`               | 控制语句              | 与`while`配合使用的循环语句， do... while          |
| `break`            | 控制语句              | 跳出当前循环或`switch`语句                         |
| `continue`         | 控制语句              | 跳过当前循环的剩余部分，进入下一次迭代             |
| `goto`             | 控制语句              | 无条件跳转语句（不推荐使用）                       |
| `return`           | 函数相关              | 函数返回语句                                       |
| `inline`           | 函数相关              | 建议编译器将函数作为内联函数处理，减少函数调用开销 |
| `noexcept`         | 函数相关（C++11）     | 声明函数不会抛出异常                               |
| `constexpr`        | 函数相关（C++11）     | 声明常量表达式，可在编译期计算                     |
| `class`            | 类与对象              | 定义类类型                                         |
| `struct`           | 类与对象              | 定义结构体，与`class`类似但默认成员为公有          |
| `union`            | 类与对象              | 定义联合体，成员共享同一块内存                     |
| `enum`             | 类与对象              | 定义枚举类型                                       |
| `enum class`       | 类与对象（C++11）     | 定义强类型枚举，避免枚举值冲突                     |
| `public`           | 访问控制              | 类成员的公有访问控制符                             |
| `private`          | 访问控制              | 类成员的私有访问控制符                             |
| `protected`        | 访问控制              | 类成员的保护访问控制符                             |
| `this`             | 类与对象              | 指向当前对象的指针                                 |
| `friend`           | 类与对象              | 声明友元，允许外部函数或类访问私有成员             |
| `explicit`         | 类与对象              | 防止构造函数的隐式类型转换                         |
| `operator`         | 类与对象              | 用于运算符重载                                     |
| `virtual`          | 继承与多态            | 声明虚函数，实现多态                               |
| `override`         | 继承与多态（C++11）   | 显式声明重写基类的虚函数                           |
| `final`            | 继承与多态（C++11）   | 禁止派生类重写虚函数或禁止类被继承                 |
| `static_assert`    | 编译期检查（C++11）   | 编译期断言，用于检查编译期条件                     |
| `dynamic_cast`     | 类型转换              | 动态类型转换，用于多态场景下的安全转换             |
| `static_cast`      | 类型转换              | 静态类型转换，用于相关类型间的转换                 |
| `reinterpret_cast` | 类型转换              | 重新解释类型转换，用于不相关类型间的转换           |
| `const_cast`       | 类型转换              | 移除变量的`const`或`volatile`属性                  |
| `const`            | 常量相关              | 声明常量，不可修改的变量或成员函数                 |
| `volatile`         | 类型修饰              | 声明易变变量，防止编译器过度优化                   |
| `sizeof`           | 运算符                | 计算类型或变量占用的字节数                         |
| `typedef`          | 类型定义              | 为已有类型定义别名                                 |
| `using`            | 命名空间/类型         | 引入命名空间成员或定义类型别名（C++11后）          |
| `namespace`        | 命名空间              | 定义命名空间，避免命名冲突                         |
| `try`              | 异常处理              | 异常处理的尝试块                                   |
| `catch`            | 异常处理              | 捕获并处理异常                                     |
| `throw`            | 异常处理              | 抛出异常                                           |
| `delete`           | 内存管理              | 释放动态分配的单个对象内存                         |
| `new`              | 内存管理              | 动态分配单个对象内存                               |
| `new[]`            | 内存管理              | 动态分配数组内存                                   |
| `delete[]`         | 内存管理              | 释放动态分配的数组内存                             |
| `nullptr`          | 指针相关（C++11）     | 空指针常量，替代`NULL`                             |
| `alignas`          | 内存对齐（C++11）     | 指定变量或类型的对齐方式                           |
| `alignof`          | 内存对齐（C++11）     | 获取类型的对齐要求                                 |
| `typeid`           | 类型信息              | 获取表达式或类型的类型信息（需包含`<typeinfo>`）   |

说明：
1. 表格包含了C++标准中的主要关键字，部分关键字在C++11及以后版本中新增（已标注）。
2. 关键字不能作为标识符（变量名、函数名等）使用。
3. 部分关键字的作用可能因上下文略有差异，表格中为主要作用说明。

#### 运算符

| 类别           | 运算符                                                       | 说明                                                         |
| -------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| **算术运算符** | `+` `-` `*` `/` `%`                                          | 加、减、乘、除、取余（取余仅用于整数）                       |
|                | `++` `--`                                                    | 自增、自减（前缀：先运算后使用；后缀：先使用后运算）         |
| **赋值运算符** | `=`                                                          | 基本赋值                                                     |
|                | `+=` `-=` `*=` `/=` `%=`                                     | 复合赋值（如 `a += b` 等价于 `a = a + b`）                   |
|                | `<<=` `>>=` `&=` `^=` `|=`                                   | 位运算复合赋值                                               |
| **比较运算符** | `==` `!=`                                                    | 等于、不等于                                                 |
|                | `<` `>` `<=` `>=`                                            | 小于、大于、小于等于、大于等于                               |
| **逻辑运算符** | `&&`                                                         | 逻辑与（短路求值：左侧为假则不执行右侧）                     |
|                | `||`                                                         | 逻辑或（短路求值：左侧为真则不执行右侧）                     |
|                | `!`                                                          | 逻辑非                                                       |
| **位运算符**   | `&` `|` `^`                                                  | 按位与、按位或、按位异或                                     |
|                | `~`                                                          | 按位取反                                                     |
|                | `<<` `>>`                                                    | 左移（乘以 2 的 n 次方）、右移（除以 2 的 n 次方，符号位处理取决于类型） |
| **条件运算符** | `?:`                                                         | 三目运算符（`condition ? expr1 : expr2`，条件为真返回 expr1，否则 expr2） |
| **指针运算符** | `*`                                                          | 解引用（获取指针指向的值）                                   |
|                | `&`                                                          | 取地址（获取变量的内存地址）                                 |
| **成员访问符** | `.`                                                          | 直接成员访问（用于对象）                                     |
|                | `->`                                                         | 间接成员访问（用于指针）                                     |
| **其他运算符** | `sizeof`                                                     | 计算类型 / 变量的字节大小                                    |
|                | `typeid`                                                     | 获取类型信息（需包含 `<typeinfo>`）                          |
|                | `new` `delete`                                               | 动态内存分配、释放                                           |
|                | `new[]` `delete[]`                                           | 动态数组分配、释放                                           |
|                | `cast运算符`（`static_cast` `dynamic_cast` `const_cast` `reinterpret_cast`） | 类型转换运算符                                               |
|                | `throw`                                                      | 抛出异常                                                     |
|                | `,`                                                          | 逗号运算符（按顺序执行，返回最后一个表达式结果）             |

**位运算符**

```c++
#include <iostream>
using namespace std;

int main() {
    int a = 0b10101;
    int b = 0b1100;
  
    // 如果 a和b的位数不同，则在前面补0即可
    // int a = 0b10101;
    // int b = ob01100

    printf("a|b = %d\n", a | b); // 11101 对应位置 有1即1
    
    printf("a&b = %d\n", a & b); // 0100  对应位置 都为1则1
    
    printf("a^b = %d\n", a ^ b); // 11001 对应位置 不同则1
   

    // 原码 反码 补码 移码//0x

    return 0;
}
```



#### 常量

如下两种方式

```c++
#define A "常量A"
const int B "常量B"
```



#### 指针

```c++
int a = 10;
int* p = &a; //指针定义
*p = 7; // 指针解引用
```







